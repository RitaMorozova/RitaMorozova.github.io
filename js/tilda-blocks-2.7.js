function t827_init(recid){var rec=$('#rec'+recid);var grid=rec.find('.t827__grid');var sizer=rec.find('.t827__grid-sizer');var item=rec.find('.t827__grid-item');var images=rec.find('.t827__grid img');var overlay=rec.find('.t827__overlay');var startContainerWidth=rec.find('.t827__grid-sizer').width();images.load(function(){t827_initMasonry(recid,grid);setTimeout(function(){t827_showOverlay(overlay,item)},500)});if(overlay.hasClass('t827__overlay_preview')){setTimeout(function(){t827_showOverlay(overlay,item)},1000)}
t827_initMasonry(recid,grid);$(window).bind('resize',function(){if(typeof window.noAdaptive!="undefined"&&window.noAdaptive==!0&&$isMobile){return}
t827_calcColumnWidth(rec,startContainerWidth,grid,sizer,item)});$('.t827').bind('displayChanged',function(){t827_initMasonry(recid,grid);t827_calcColumnWidth(rec,startContainerWidth,grid,sizer,item)});t827_calcColumnWidth(rec,startContainerWidth,grid,sizer,item)}
function t827_initMasonry(recid,grid){var $grid=grid;$grid.imagesLoaded(function(){$grid.masonry({itemSelector:'#rec'+recid+' .t827__grid-item',columnWidth:'#rec'+recid+' .t827__grid-sizer',gutter:'#rec'+recid+' .t827__gutter-sizer',isFitWidth:!0})})}
function t827_showOverlay(overlay,item){if($(window).width()>=1024){overlay.css('display','block')}else{item.click(function(){if($(this).find('.t827__overlay').css('display')=='none'){overlay.css('display','none');$(this).find('.t827__overlay').css('display','block')}else{$(this).find('.t827__overlay').css('display','none')}})}}
function t827_calcColumnWidth(rec,startcontainerwidth,grid,sizer,item){var containerWidth=rec.find('.t827__container').width();var sizerWidth=rec.find('.t827__grid-sizer').width();var itemWidth=rec.find('.t827__grid-item').width();var gutterSizerWidth=rec.find('.t827__gutter-sizer').width();var columnAmount=Math.round(containerWidth/startcontainerwidth);var newSizerWidth=((containerWidth-gutterSizerWidth*(columnAmount-1))/columnAmount);if(containerWidth>itemWidth){sizer.css('width',newSizerWidth);item.css('width',newSizerWidth)}else{grid.css('width','100%');sizer.css('width','100%');item.css('width','100%')}}